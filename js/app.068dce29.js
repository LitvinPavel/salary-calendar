(function(){var t={6339:function(t,e,n){"use strict";var a=n(9242),r=n(3396),o=n(7139);const s={class:"bg-base-strong text-base-weak overflow-hidden relative flex w-screen h-screen min-w-sm"},l={class:"bg-base-strong h-full w-full px-5 pt-6 pb-20 overflow-y-auto flex flex-col"},i={class:"pl-nav"};var c={__name:"App",setup(t){const e=(0,o.oR)();return(0,r.bv)((()=>{e.dispatch("initCalendarData"),e.dispatch("initSalaryList"),e.dispatch("initVacationList")})),(t,e)=>{const n=(0,r.up)("router-view"),a=(0,r.up)("pl-btn-icon"),o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",l,[(0,r.Wm)(n)]),(0,r._)("div",i,[(0,r.Wm)(o,{to:"/",class:"flex flex-grow items-center justify-center p-2"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{"icon-name":"home",size:"l"})])),_:1}),(0,r.Wm)(o,{to:"/setting",class:"flex flex-grow items-center justify-center p-2"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{"icon-name":"setting",size:"l"})])),_:1})])])}}};const u=c;var d=u,p=n(5431);(0,p.z)("/salary-calendar/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var m=n(2483),y=n(2268);const f={class:"flex flex-col"},v={class:"inline-flex flex-col mx-auto mb-3 px-3 py-2 rounded-lg bg-secondary-strong"},h=(0,r._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"оклад",-1),g={class:"text-base-weak leading-none"};function w(t,e,n,a,o,s){const l=(0,r.up)("pl-month"),i=(0,r.up)("home-item"),c=(0,r.up)("home-item-vacation"),u=(0,r.up)("pl-accordion"),d=(0,r.up)("home-add-payment-dialog");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",f,[(0,r.Wm)(l,{month:a.month,"onUpdate:month":e[0]||(e[0]=t=>a.month=t),year:a.year,"onUpdate:year":e[1]||(e[1]=t=>a.year=t)},null,8,["month","year"]),(0,r._)("div",v,[h,(0,r._)("h3",g,(0,y.zw)(a.toSumFormat(a.lastSalary))+" ₽ ",1)]),(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{type:a.PART_WORK_DAYS_TYPES.PREV},null,8,["type"]),(0,r.Wm)(i,{type:a.PART_WORK_DAYS_TYPES.CURRENT},null,8,["type"]),(0,r.Wm)(c)])),_:1})]),(0,r.Wm)(d)],64)}var x=n(4143);const b=(0,r._)("div",{class:"absolute top-0 right-0 mt-3 mr-6 text-accent text-xs"},[(0,r._)("span",{class:"align-middle"},"Отпуск")],-1),_={class:"grid grid-cols-3 divide-x mb-3"},k={class:"pr-3"},D=(0,r._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"Ожидается",-1),A={class:"text-base-weak leading-none"},S={class:"px-3"},C=(0,r._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"В день",-1),M={class:"text-base-weak leading-none"},L={class:"px-3"},R=(0,r._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"в час",-1),T={class:"text-base-weak leading-none"};function Z(t,e,n,a,o,s){const l=(0,r.up)("home-item-payment"),i=(0,r.up)("pl-work-days"),c=(0,r.up)("pl-accordion-item");return a.workDays&&a.workDays.length?((0,r.wg)(),(0,r.j4)(c,{key:0},{"accordion-trigger":(0,r.w5)((()=>[b,(0,r.Wm)(l,{"expect-pay":a.daily*a.workDays.length,year:a.monthData?.year,month:a.monthData?.month,type:a.PART_WORK_DAYS_TYPES.VACATION,class:"flex w-full justify-between items-end"},null,8,["expect-pay","year","month","type"])])),"accordion-content":(0,r.w5)((()=>[(0,r._)("div",_,[(0,r._)("div",k,[D,(0,r._)("h3",A,(0,y.zw)(a.toSumFormat(a.daily*a.workDays.length))+" ₽ ",1)]),(0,r._)("div",S,[C,(0,r._)("h3",M,(0,y.zw)(a.toSumFormat(a.daily))+" ₽ ",1)]),(0,r._)("div",L,[R,(0,r._)("h3",T,(0,y.zw)(a.toSumFormat(a.daily/8))+" ₽ ",1)])]),(0,r._)("div",null,[(0,r.Wm)(i,{days:a.workDays,type:a.PART_WORK_DAYS_TYPES.VACATION},null,8,["days","type"])])])),_:1})):(0,r.kq)("",!0)}var j=n(5033),E=n(4698),N=n(2375),O={components:{homeItemPayment:j.Z},setup(){const t=(0,o.oR)(),e=(0,r.Fl)((()=>t.getters.currentData)),n=(0,r.Fl)((()=>{const{total:e}=t.getters.currentData?.[E.Z.CURRENT]||{},{lastSalary:n}=t.getters;return n&&e?n/e.length:0})),a=(0,r.Fl)((()=>{const{vacationList:e,currentYear:n,currentMonth:a}=t.getters,{total:r}=t.getters.currentData?.[E.Z.CURRENT]||{},o=e?.[n]?.[a]?.vacation||[];return o.filter((t=>(r||[]).includes(t)))||[]})),s=(0,r.Fl)((()=>t.getters.lastSalary));return{monthData:e,lastSalary:s,daily:n,workDays:a,PART_WORK_DAYS_TYPES:E.Z,toSumFormat:N.Z}}},P=n(89);const F=(0,P.Z)(O,[["render",Z]]);var W=F,Y=n(1165);const z=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];var I={components:{HomeItem:x.Z,HomeItemVacation:W,HomeAddPaymentDialog:Y.Z},setup(){const t=(0,o.oR)(),e=(0,r.Fl)((()=>t.getters.currentYear)),n=(0,r.Fl)((()=>{const{currentMonth:e}=t.getters,n=12===e?0:e;return z[n]})),a=(0,r.Fl)((()=>t.getters.lastSalary)),s=({swipeDirection:e})=>{"prev"===e&&t.dispatch("prevMonth"),"next"===e&&t.dispatch("nextMonth")};return{year:e,month:n,lastSalary:a,onChangeMonth:s,PART_WORK_DAYS_TYPES:E.Z,toSumFormat:N.Z}}};const V=(0,P.Z)(I,[["render",w]]);var U=V;const $=[{path:"/",name:"home",component:U},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,5872))},{path:"/setting",name:"setting",component:()=>n.e(443).then(n.bind(n,333))}],H=(0,m.p7)({history:(0,m.PO)("/salary-calendar/"),routes:$});var B=H,q=(n(7658),n(4311)),K=n(5410);const J=q.Z.create({baseURL:"https://e2e-calendar-api.vercel.app/",paramsSerializer:{encode:K.parse,serialize:K.stringify}});var G=J;const Q=async t=>{const{data:e}=await G.get(`getYearData?year=${t}`);return e||null};var X=n(7165),tt=n.n(X);const et=async function(t,e){e&&await tt().setItem(t,JSON.stringify(e))},nt=async function(t,e){const n=await tt().getItem(t);return n&&e?JSON.parse(n)[e]:n?JSON.parse(n):void 0},at=async function(t=!1){t?await tt().removeItem(t):await tt().clear()};var rt=Object.freeze({SALARY:"salary",CALENDAR_DATA:"calendarData",VACATION:"vacation"}),ot={state:()=>({calendarData:{},month:(new Date).getMonth(),year:(new Date).getFullYear(),payCurrentType:null,addPaymentModal:!1}),getters:{currentData(t){return t.calendarData?.[t.year]?.[t.month]||{}},currentYear(t){return t.year},currentMonth(t){return t.month},showAddPaymentModal(t){return t.addPaymentModal},payments(t){return t.calendarData?.[t.year]?.[t.month]?.payment||{}}},mutations:{setCalendarData(t,e){t.calendarData={...t.calendarData,...e},et(rt.CALENDAR_DATA,t.calendarData)},setYear(t,e){t.year=e},setMonth(t,e){t.month=e},setAddPaymentModal(t,{show:e,sum:n,type:a}){if(t.addPaymentModal=e,a&&(t.payCurrentType=a),n){const{calendarData:e,year:a,month:r,payCurrentType:o}=t;e[a][r].payment?e[a][r].payment[o]?t.calendarData[a][r].payment[o].push(n):t.calendarData[a][r].payment[o]=[n]:t.calendarData[a][r].payment={[o]:[n]},et(rt.CALENDAR_DATA,t.calendarData)}}},actions:{async fetchData({state:t,commit:e}){try{const{year:n,months:a}=await Q(t.year);e("setCalendarData",{[n]:a})}catch(n){console.error(n)}},async initCalendarData({state:t,commit:e,dispatch:n}){try{const a=await nt(rt.CALENDAR_DATA);e("setCalendarData",a),a[t.year]||n("fetchData")}catch(a){console.log(a)}},async clearCalendarData({dispatch:t}){try{await at(rt.CALENDAR_DATA),t("fetchData")}catch(e){console.log(e)}},prevMonth({state:t,dispatch:e,commit:n}){let a=t.year;0===t.month&&(a=t.year-1,n("setYear",a),t.calendarData[a]||e("fetchData")),n("setMonth",t.month>0?t.month-1:11)},nextMonth({state:t,dispatch:e,commit:n}){let a=t.year;11===t.month&&(a=t.year+1,n("setYear",a),t.calendarData[a]||e("fetchData")),n("setMonth",t.month<11?t.month+1:0)},setAddPaymentModal({commit:t},e){t("setAddPaymentModal",e)}}};function st(t,e){let n=1;return t.reduce(((t,a)=>+e>=+a?+t>+a?t:a:(n++,+t<+a?a:t)),e),t[t.length-n]||t[0]}var lt={state:()=>({salaryList:{},vacationList:{},upSalaryModal:!1,vacationModal:!1}),getters:{lastSalary(t,e,n){let a=0;const r=Object.keys(t.salaryList)||[];if(r.length&&n.home.year){const e=st(r,n.home.year),o=r.includes(`${n.home.year}`)?n.home.month:n.home.year>e?11:0,s=st(Object.keys(t.salaryList[e]),o);a=t.salaryList[e][s]}return a},showUpSalaryModal(t){return t.upSalaryModal},showVacationModal(t){return t.vacationModal},salaryList(t){return t.salaryList},vacationList(t){return t.vacationList}},mutations:{setUpSalaryModal(t,{show:e,sum:n}){if(t.upSalaryModal=e,n){const{data:e,salary:a}=n;t.salaryList[e.year]?t.salaryList[e.year][e.month]=a:t.salaryList[e.year]={[e.month]:a},et(rt.SALARY,t.salaryList)}},setVacationModal(t,{data:e,show:n}){t.vacationModal=n,e&&e.length&&(e.forEach((e=>{let n=e.getFullYear(),a=e.getMonth(),r=e.getDate();if(t.vacationList?.[n])if(t.vacationList?.[n]?.[a])if(t.vacationList?.[n]?.[a]?.vacation){let e=[...t.vacationList[n][a].vacation,r];t.vacationList[n][a].vacation=[...new Set(e)].sort(((t,e)=>t-e))}else t.vacationList[n][a].vacation=[r];else t.vacationList[n][a]={};else t.vacationList[n]={}})),et(rt.VACATION,t.vacationList))}},actions:{setUpSalaryModal({commit:t},e){t("setUpSalaryModal",e)},setVacationModal({commit:t},{show:e,sum:n}){const{data:a}=n||{};t("setVacationModal",{data:a,show:e})},async initSalaryList({state:t}){try{const e=await nt(rt.SALARY);t.salaryList=e||{}}catch(e){console.log(e)}},async initVacationList({state:t}){try{const e=await nt(rt.VACATION);t.vacationList=e||{}}catch(e){console.log(e)}},async removeVacationList({state:t}){try{await at(rt.VACATION),t.vacationList={}}catch(e){console.log(e)}},async removeSalaryList({state:t}){try{await at(rt.SALARY),t.salaryList={}}catch(e){console.log(e)}}}},it=(0,o.MT)({modules:{home:ot,setting:lt}}),ct=n(9024);const ut=(0,a.ri)(d),dt=n(9948);dt.keys().forEach((t=>{const e=dt(t),n=t.split("/").pop().replace(/\.\w+$/,"");ut.component(n,e.default||e)})),ut.component("vue-datepicker",ct.Z),ut.use(it).use(B).mount("#app")},4698:function(t,e){"use strict";e["Z"]=Object.freeze({PREV:"prevWorkDays",CURRENT:"currentWorkDays",VACATION:"vacation"})},2375:function(t,e){"use strict";e["Z"]=t=>t?String(t.toFixed()).replace(/(.)(?=(\d{3})+$)/g,"$1 "):0},7029:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=n(3396),r=n(2268),o=n(9242);const s={class:"absolute bottom-0 pl-align-x flex justify-center items-end"};function l(t,e,n,l,i,c){const u=(0,a.up)("pl-chevron-down-icon");return(0,a.wg)(),(0,a.iD)("li",{class:(0,r.C_)(["rounded-lg px-5 pt-5 mb-1 bg-secondary-strong relative transform transition-all duration-300 flex flex-col",{"pb-5":c.visible}])},[(0,a._)("div",{class:(0,r.C_)(["pb-5 border-secondary-weak",{"border-b mb-5":c.visible}])},[(0,a.WI)(t.$slots,"accordion-trigger")],2),(0,a.Wm)(o.uT,{name:"accordion",onEnter:c.start,onAfterEnter:c.end,onBeforeLeave:c.start,onAfterLeave:c.end},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",null,[(0,a.WI)(t.$slots,"accordion-content")],512),[[o.F8,c.visible]])])),_:3},8,["onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),(0,a._)("div",s,[(0,a._)("div",{class:"p-4 -mb-3",onClick:e[0]||(e[0]=(...t)=>c.open&&c.open(...t))},[(0,a.Wm)(u,{class:(0,r.C_)(["w-4 h-4 transform transition-all duration-700 origin-center",{"rotate-180":c.visible}])},null,8,["class"])])])],2)}var i={props:{},inject:["Accordion"],data(){return{index:null}},computed:{visible(){return this.index==this.Accordion.active}},methods:{open(){this.visible?this.Accordion.active=null:this.Accordion.active=this.index},start(t){t.style.height=t.scrollHeight+"px"},end(t){t.style.height=""}},created(){this.index=this.Accordion.count++}},c=n(89);const u=(0,c.Z)(i,[["render",l]]);var d=u},722:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var a=n(3396);const r={class:"accordion"};function o(t,e,n,o,s,l){return(0,a.wg)(),(0,a.iD)("ul",r,[(0,a.WI)(t.$slots,"default")])}var s={props:{},data(){return{Accordion:{count:0,active:null}}},provide(){return{Accordion:this.Accordion}}},l=n(89);const i=(0,l.Z)(s,[["render",o]]);var c=i},3860:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=n(3396);const r={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),s=[o];function l(t,e){return(0,a.wg)(),(0,a.iD)("svg",r,s)}var i=n(89);const c={},u=(0,i.Z)(c,[["render",l]]);var d=u},6362:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=n(3396);const r={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},null,-1),s=[o];function l(t,e){return(0,a.wg)(),(0,a.iD)("svg",r,s)}var i=n(89);const c={},u=(0,i.Z)(c,[["render",l]]);var d=u},5639:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=n(3396);const r={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1),s=[o];function l(t,e){return(0,a.wg)(),(0,a.iD)("svg",r,s)}var i=n(89);const c={},u=(0,i.Z)(c,[["render",l]]);var d=u},7409:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=n(3396);const r={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1),s=[o];function l(t,e){return(0,a.wg)(),(0,a.iD)("svg",r,s)}var i=n(89);const c={},u=(0,i.Z)(c,[["render",l]]);var d=u},5614:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=n(3396);const r={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1),s=[o];function l(t,e){return(0,a.wg)(),(0,a.iD)("svg",r,s)}var i=n(89);const c={},u=(0,i.Z)(c,[["render",l]]);var d=u},5557:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var a=n(3396);const r={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),s=(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),l=[o,s];function i(t,e){return(0,a.wg)(),(0,a.iD)("svg",r,l)}var c=n(89);const u={},d=(0,c.Z)(u,[["render",i]]);var p=d},4885:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var a=n(3396),r=n(2268);function o(t,e,n,o,s,l){return(0,a.wg)(),(0,a.j4)((0,a.LL)(n.tagName),{class:"text-secondary-weak transition duration-300 ease-in-out select-none hover:text-base-weak focus:outline-none focus-visible:outline-none"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(`pl-${n.iconName}-icon`),{class:(0,r.C_)(l.iconSize)},null,8,["class"])),(0,a.WI)(t.$slots,"default")])),_:3})}var s=t=>e=>-1!==t.indexOf(e);const l=Object.freeze({SMALL:"s",MEDIUM:"m",LARGE:"l"}),i={[l.SMALL]:"w-4 h-4",[l.MEDIUM]:"w-6 h-6",[l.LARGE]:"w-8 h-8"};var c={name:"pl-btn-icon",props:{tagName:{type:String,default:"button"},iconName:{type:String,require:!0},size:{type:String,default:l.MEDIUM,validator:s(Object.values(l))}},computed:{iconSize(){return i[this.size]}}},u=n(89);const d=(0,u.Z)(c,[["render",o]]);var p=d},853:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var a=n(3396),r=n(9242);const o={key:0,class:"fixed inset-0 z-20"},s={class:"flex flex-col items-center justify-center w-screen h-screen"},l={class:"relative animodal-inner"},i={class:"rounded bg-secondary-strong overflow-hidden p-4"},c=(0,a._)("div",{class:"text-white text-lg p-6"},"Х",-1),u=[c];function d(t,e,n,c,d,p){return(0,a.wg)(),(0,a.j4)(r.uT,{name:"animodal"},{default:(0,a.w5)((()=>[c.active?((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",{class:"absolute inset-0",style:{"background-color":"var(--modal-bg)"},onClick:e[0]||(e[0]=(...t)=>c.onClose&&c.onClose(...t))}),(0,a._)("div",s,[(0,a._)("div",l,[(0,a._)("div",i,[(0,a.WI)(t.$slots,"content",{close:c.onClose})])])]),(0,a._)("div",{class:"animodal-inner absolute top-0 right-0 cursor-pointer",onClick:e[1]||(e[1]=(...t)=>c.onClose&&c.onClose(...t))},u)])):(0,a.kq)("",!0)])),_:3})}var p=n(7139),m={props:{getterName:{type:String,default:null},actionName:{type:String,default:null}},setup(t){const e=(0,p.oR)(),n=(0,a.Fl)((()=>!!t.getterName&&e.getters[t.getterName])),r=(n,a)=>{e.dispatch(t.actionName,{show:!1,sum:a}),a=null};return{active:n,onClose:r}}},y=n(89);const f=(0,y.Z)(m,[["render",d]]);var v=f},7835:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var a=n(3396),r=n(2268),o=n(9242);const s={key:0,class:"fixed inset-0 z-20"},l={class:"flex flex-col items-center justify-center w-screen h-screen"},i={class:"relative animodal-inner"},c={class:"rounded bg-white dark:bg-gray-800 overflow-hidden p-4"},u=(0,a._)("div",{class:"text-white text-lg p-6"},"Х",-1),d=[u];function p(t,e,n,u,p,m){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{class:"rounded bg-slate-400 py-1 px-2 text-white",onClick:e[0]||(e[0]=t=>p.active=!0)},(0,r.zw)(n.title),1),(0,a.Wm)(o.uT,{name:"animodal"},{default:(0,a.w5)((()=>[p.active?((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",{class:"absolute inset-0 bg-black bg-opacity-75",onClick:e[1]||(e[1]=(...t)=>m.destroy&&m.destroy(...t))}),(0,a._)("div",l,[(0,a._)("div",i,[(0,a._)("div",c,[(0,a.WI)(t.$slots,"content",{close:m.destroy})])])]),(0,a._)("div",{class:"animodal-inner absolute top-0 right-0 cursor-pointer",onClick:e[2]||(e[2]=(...t)=>m.destroy&&m.destroy(...t))},d)])):(0,a.kq)("",!0)])),_:3})])}var m={props:{title:{type:String,default:"Открыть"}},data(){return{active:!1}},methods:{destroy(){this.active=!1}}},y=n(89);const f=(0,y.Z)(m,[["render",p]]);var v=f},7382:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var a=n(3396),r=n(2268);const o={class:"flex items-center justify-between mb-6"},s={class:"text-xl space-x-2"},l={class:""},i={class:"text-primary"};function c(t,e,n,c,u,d){const p=(0,a.up)("pl-btn-icon");return(0,a.wg)(),(0,a.iD)("section",o,[(0,a.Wm)(p,{class:"swiper-button-prev","icon-name":"chevron-left",onClick:c.prev},null,8,["onClick"]),(0,a._)("div",s,[(0,a._)("span",l,(0,r.zw)(c.month),1),(0,a._)("span",i,"{ "+(0,r.zw)(c.year)+" }",1)]),(0,a.Wm)(p,{class:(0,r.C_)(["swiper-button-next",{"cursor-not-allowed opacity-50":c.limitedYear}]),"icon-name":"chevron-right",onClick:e[0]||(e[0]=t=>c.next(c.limitedYear))},null,8,["class"])])}var u=n(7139);const d=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];var p={setup(){const t=(0,u.oR)(),e=(0,a.Fl)((()=>t.getters.currentYear)),n=(0,a.Fl)((()=>{const{currentMonth:e}=t.getters,n=12===e?0:e;return d[n]})),r=(0,a.Fl)((()=>{const e=(new Date).getFullYear();return t.getters.currentYear>e&&11===t.getters.currentMonth})),o=()=>{t.dispatch("prevMonth")},s=e=>{e||t.dispatch("nextMonth")};return{year:e,month:n,limitedYear:r,prev:o,next:s}}},m=n(89);const y=(0,m.Z)(p,[["render",c]]);var f=y},3455:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var a=n(3396),r=n(2268);const o={class:"text-xxs text-secondary-weak font-semibold absolute pl-align-center"};function s(t,e,n,s,l,i){return(0,a.wg)(),(0,a.iD)("div",{class:"rounded-full w-8 h-8 relative",style:(0,r.j5)(`background: linear-gradient(to top, var(--primary) ${s.percent}%, var(--base-weak) ${s.percent>95?100:s.percent+5}%);`)},[(0,a._)("span",o,(0,r.zw)(1===s.percent?0:Math.round(s.percent))+"% ",1)],4)}var l={props:{total:{type:Number,default:0},current:{type:Number,default:0}},setup(t){const e=(0,a.Fl)((()=>t.total&&t.current?t.current/t.total*100:1));return{percent:e}}},i=n(89);const c=(0,i.Z)(l,[["render",s]]);var u=c},461:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var a=n(3396);function r(t,e,n,r,o,s){const l=(0,a.up)("swiper-slide"),i=(0,a.up)("swiper");return(0,a.wg)(),(0,a.iD)("section",null,[(0,a.WI)(t.$slots,"nav"),(0,a.Wm)(i,{navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},modules:r.modules,loop:n.isLoop,class:"w-full h-full",onSlideChange:e[0]||(e[0]=e=>t.$emit("slide-change",e))},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.items,((e,n)=>((0,a.wg)(),(0,a.j4)(l,{key:n},{default:(0,a.w5)((()=>[(0,a.WI)(t.$slots,"slide",{item:e})])),_:2},1024)))),128))])),_:3},8,["navigation","modules","loop"])])}var o=n(5032),s=n(2062),l={props:{items:{type:Array,default:()=>[]},isLoop:{type:Boolean,default:!1}},components:{Swiper:o.tq,SwiperSlide:o.o5},setup(){return{modules:[s.W_]}}},i=n(89);const c=(0,i.Z)(l,[["render",r]]);var u=c},4531:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var a=n(3396),r=n(9242);const o=(0,a._)("label",{class:"block text-gray-100 text-sm font-bold mb-2",for:"salary"}," Введи сумму ",-1),s=(0,a._)("label",{class:"block text-gray-100 text-sm font-bold mb-2",for:"salary"}," Укажи месяца ",-1),l=["onClick"];function i(t,e,n,i,c,u){const d=(0,a.up)("Datepicker"),p=(0,a.up)("pl-modal");return(0,a.wg)(),(0,a.j4)(p,{title:"+ Изменение ЗП"},{content:(0,a.w5)((({close:t})=>[(0,a._)("form",{class:"space-y-2 flex flex-col",onSubmit:e[2]||(e[2]=(0,r.iM)((()=>{}),["prevent"]))},[o,(0,a.wy)((0,a._)("input",{id:"salary",type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>i.salary=t),placeholder:"зепка",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[r.nr,i.salary,void 0,{number:!0}]]),s,(0,a.Wm)(d,{modelValue:i.month,"onUpdate:modelValue":e[1]||(e[1]=t=>i.month=t),dark:"",monthPicker:"",autoApply:""},null,8,["modelValue"]),(0,a._)("button",{class:"rounded bg-slate-400 py-1 px-2 text-white ml-auto",onClick:e=>i.onAdd(t)},"Добавить",8,l)],32)])),_:1})}var c=n(4870),u=n(7139),d={setup(){(0,u.oR)();const t=(0,c.iH)({}),e=(0,c.iH)(0);function n(t){Object.keys(this.month).length&&this.salary&&(this.$emit("add",{...this.month,salary:this.salary}),t())}return{month:t,salary:e,onAdd:n}}},p=n(89);const m=(0,p.Z)(d,[["render",i]]);var y=m},6497:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var a=n(3396),r=n(2268);const o={class:"flex flex-wrap -ml-0.5 -mt-0.5 pb-3"},s={class:"absolute pl-align-center"};function l(t,e,n,l,i,c){return(0,a.wg)(),(0,a.iD)("ul",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.days,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,r.C_)(["w-10 h-10 relative rounded-sm ml-0.5 mt-0.5 cursor-pointer",l.color])},[(0,a._)("span",s,(0,r.zw)(t),1)],2)))),128))])}var i=n(4698);const c={[i.Z.CURRENT]:"bg-primary",[i.Z.PREV]:"bg-accent",[i.Z.VACATION]:"bg-warning"};var u={name:"pl-work-days",props:{days:{type:Array,default:()=>[]},type:{type:String,default:i.Z.CURRENT}},setup(t){const e=(0,a.Fl)((()=>c[t.type]||null));return{color:e}}},d=n(89);const p=(0,d.Z)(u,[["render",l]]);var m=p},1165:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var a=n(3396),r=n(9242);const o=(0,a._)("label",{class:"block text-gray-100 text-sm font-bold mb-2",for:"salary"}," Введи сумму, что пришла ",-1),s=["onClick"];function l(t,e,n,l,i,c){const u=(0,a.up)("pl-dialog");return(0,a.wg)(),(0,a.j4)(u,{"getter-name":"showAddPaymentModal","action-name":"setAddPaymentModal"},{content:(0,a.w5)((({close:t})=>[(0,a._)("form",{class:"space-y-2 flex flex-col w-48",onSubmit:e[1]||(e[1]=(0,r.iM)((()=>{}),["prevent"]))},[o,(0,a.wy)((0,a._)("input",{id:"salary",type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>l.salary=t),placeholder:"сумма",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[r.nr,l.salary,void 0,{number:!0}]]),(0,a._)("button",{class:"rounded bg-slate-400 py-1 px-2 text-white ml-auto",onClick:e=>l.onAdd(e,t,l.salary)}," Добавить ",8,s)],32)])),_:1})}var i=n(4870),c={setup(){const t=(0,i.iH)({});let e=(0,i.iH)(null);const n=(t,e,n)=>{e(t,n),n=null};return{month:t,salary:e,onAdd:n}}},u=n(89);const d=(0,u.Z)(c,[["render",l]]);var p=d},5033:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var a=n(3396),r=n(2268);const o={class:"flex w-full justify-between items-end"},s={class:"flex flex-col space-y-3"},l={class:"flex items-center space-x-2"},i={key:0,class:"text-warning"},c={key:1,class:"text-accent"},u={class:"text-base-weak leading-tight"},d={class:"text-2xl font-bold"};function p(t,e,n,p,m,y){const f=(0,a.up)("pl-percent-sum"),v=(0,a.up)("pl-btn-icon");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",s,[(0,a._)("div",l,[(0,a.Wm)(f,{total:n.expectPay,current:p.payment},null,8,["total","current"]),p.payment>n.expectPay?((0,a.wg)(),(0,a.iD)("span",i,"+ "+(0,r.zw)(p.toSumFormat(p.payment-n.expectPay))+" ₽",1)):p.payment<n.expectPay?((0,a.wg)(),(0,a.iD)("span",c,"- "+(0,r.zw)(p.toSumFormat(n.expectPay-p.payment))+" ₽",1)):(0,a.kq)("",!0)]),(0,a._)("h2",u,[(0,a._)("span",d,(0,r.zw)(p.toSumFormat(p.payment))+" ₽",1)])]),(0,a.Wm)(v,{"icon-name":"plus",size:"l",class:"rounded-full bg-primary",onClick:p.onAdd},null,8,["onClick"])])}var m=n(7139),y=n(2375),f={name:"home-item-payment",props:{expectPay:{type:Number,default:0},year:{type:[Number,String],default:null},month:{type:[Number,String],default:null},type:{type:String,default:null}},setup(t){const e=(0,m.oR)(),n=(0,a.Fl)((()=>{const n=e.getters.payments,a=n?.[t.type]||[];return a.length?a.reduce(((t,e)=>t+e),0):0})),r=()=>{e.dispatch("setAddPaymentModal",{show:!0,type:t.type})};return{payment:n,onAdd:r,toSumFormat:y.Z}}},v=n(89);const h=(0,v.Z)(f,[["render",p]]);var g=h},4143:function(t,e,n){"use strict";n.d(e,{Z:function(){return C}});var a=n(3396),r=n(2268);const o={class:"absolute top-0 right-0 mt-3 mr-6 text-accent text-xs"},s={class:"align-middle"},l={class:"grid grid-cols-3 divide-x mb-3"},i={class:"pr-3"},c=(0,a._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"Ожидается",-1),u={class:"text-base-weak leading-none"},d={class:"px-3"},p=(0,a._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"В день",-1),m={class:"text-base-weak leading-none"},y={class:"px-3"},f=(0,a._)("span",{class:"text-xxs leading-none uppercase opacity-70"},"в час",-1),v={class:"text-base-weak leading-none"};function h(t,e,n,h,g,w){const x=(0,a.up)("home-item-payment"),b=(0,a.up)("pl-work-days"),_=(0,a.up)("pl-accordion-item");return(0,a.wg)(),(0,a.j4)(_,null,{"accordion-trigger":(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("span",s,(0,r.zw)(h.titles[n.type]),1)]),(0,a.Wm)(x,{"expect-pay":h.daily*h.workDays.length,year:h.monthData?.year,month:h.monthData?.month,type:n.type,class:"flex w-full justify-between items-end"},null,8,["expect-pay","year","month","type"])])),"accordion-content":(0,a.w5)((()=>[(0,a._)("div",l,[(0,a._)("div",i,[c,(0,a._)("h3",u,(0,r.zw)(h.toSumFormat(h.daily*h.workDays.length))+" ₽ ",1)]),(0,a._)("div",d,[p,(0,a._)("h3",m,(0,r.zw)(h.toSumFormat(h.daily))+" ₽ ",1)]),(0,a._)("div",y,[f,(0,a._)("h3",v,(0,r.zw)(h.toSumFormat(h.daily/8))+" ₽ ",1)])]),(0,a._)("div",null,[(0,a.Wm)(b,{days:h.workDays,type:n.type},null,8,["days","type"])])])),_:1})}var g=n(7139),w=n(5033),x=n(4698),b=n(2375);const _={[x.Z.CURRENT]:0,[x.Z.PREV]:1},k={[x.Z.CURRENT]:"Аванс(27)",[x.Z.PREV]:"ЗП(12)"};var D={components:{homeItemPayment:w.Z},props:{type:{type:String,require:!0}},setup(t){const e=(0,g.oR)(),n=(0,a.Fl)((()=>e.getters.currentData)),r=(0,a.Fl)((()=>{const{total:n}=e.getters.currentData?.[t.type]||{},{lastSalary:a}=e.getters;return a&&n?a/n.length:0})),o=(0,a.Fl)((()=>{const{vacationList:n,currentYear:a,currentMonth:r}=e.getters;let o=r-_[t.type],s=-1===o?a-1:a;const l=n?.[s]?.[-1===o?11:o]?.vacation||[],{part:i}=e.getters.currentData?.[t.type]||{};return(i||[]).filter((t=>!l.includes(t)))})),s=(0,a.Fl)((()=>{const{vacationList:t,currentYear:n,currentMonth:a}=e.getters;return t?.[n]?.[a]?.vacation||[]})),l=(0,a.Fl)((()=>e.getters.lastSalary));return{monthData:n,lastSalary:l,daily:r,workDays:o,vacationList:s,titles:k,toSumFormat:b.Z}}},A=n(89);const S=(0,A.Z)(D,[["render",h]]);var C=S},9948:function(t,e,n){var a={"./accordion/pl-accordion-item.vue":7029,"./accordion/pl-accordion.vue":722,"./icons/pl-chevron-down-icon.vue":3860,"./icons/pl-chevron-left-icon.vue":6362,"./icons/pl-chevron-right-icon.vue":5639,"./icons/pl-home-icon.vue":7409,"./icons/pl-plus-icon.vue":5614,"./icons/pl-setting-icon.vue":5557,"./pl-btn-icon.vue":4885,"./pl-dialog.vue":853,"./pl-modal.vue":7835,"./pl-month.vue":7382,"./pl-percent-sum.vue":3455,"./pl-slider.vue":461,"./pl-up-salary.vue":4531,"./pl-work-days.vue":6497};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=9948},4654:function(){}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,o){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],o=t[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(l=!1,o<s&&(s=o));if(l){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.e85a1e84.js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="salary-calendar:";n.l=function(a,r,o,s){if(t[a])t[a].push(r);else{var l,i;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+o){l=d;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",e+o),l.src=a),t[a]=[r];var p=function(e,n){l.onerror=l.onload=null,clearTimeout(m);var r=t[a];if(delete t[a],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((function(t){return t(n)})),e)return e(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/salary-calendar/"}(),function(){var t={143:0};n.f.j=function(e,a){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=t[e]=[n,a]}));a.push(r[2]=o);var s=n.p+n.u(e),l=new Error,i=function(a){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,r[1](l)}};n.l(s,i,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,s=a[0],l=a[1],i=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(i)var u=i(n)}for(e&&e(a);c<s.length;c++)o=s[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunksalary_calendar"]=self["webpackChunksalary_calendar"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(6339)}));a=n.O(a)})();
//# sourceMappingURL=app.068dce29.js.map